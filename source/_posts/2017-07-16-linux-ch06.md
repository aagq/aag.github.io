---
title: 鸟哥的Linux私房菜--Ch06
date: 2017-07-16 16:49:48
tags: linux
---
# chapter6 Linux 的文件权限与目录配置

**Linux 最优秀的地方之一在于它的多用户多任务环境**

## 使用者与群组

## Linux 文件权限概念

1. Linux文件属性

  	命令：sudo ls -al

	显示：权限 链接 拥有者 群组 文件大小 修改日期 文件名

	具体解释：

 	- 权限(10个) 

	  第一个字符

                     d:目录
		     -:文件
		     l:链接文件
		     b:设备文件里面的可供储存的周边设备（可随机存取设备）
		     c:设备文件里面的一次性读取设备，如鼠标/键盘

          接下来的字符，以三个为一组，且均为“rwx"的三个参数组合
                     其中，r --read
                           w --write
                           x --execute

	**注意**
         这三个的权限位置不会改变，如果没有权限，就会出现[-]。
        
         第一组为 文件拥有者可具备的权限

       	 第二组为 加入此群组的帐号的权限

         第三组为 非本人且没有加入本群组的其他帐号的权限

	- 第二栏 表示有多少文件名链接到此节点
	- 第三栏 表示这个文件（目录）的拥有者帐号
	- 第四栏 表示这个文件的所属群组
	- 第五栏 表示这个文件的容量大小，默认单位 Bytes。
	- 第六栏 表示这个文件的创建日期或者最近修改日期（月/日），如果时间太远，就只显示年份。可用'ls -l --full-time'显示完整时间。
	
	- 第七栏 表示这个文件的文件名。若文件名前多一个'.'，表示这个文件为隐藏文件。可用‘ls','ls -a'

2. 如何改变文件属性与权限

- chgrp: 改变文件的所属群组
- chown: 改变文件拥有者
- chmod: 改变文件的权限，SUID，SGID，SBIT等特性。


命令：
 chagrp [-R] dirname/filename (-R 表示进行递归的持续变更）
 chown [-R] 新拥有者的帐号名称 要更改的文件/目录
 chown [-R] 新拥有者的帐号名称:群组名称 要更改的文件/目录
 cp 来源文件 目的文件
 
chmod 权限变更 两种方法：数字/符号

- 数字类型改变权限

各权限的分数   r-4,w-2,x-1
例如， 权限为 [-rwxrwx---]
则分数为 owner=rwx=4+2+1=7; group=rwx=4+2+1=7; others=---=0
权限变更时，该文件的权限数字为770
命令为 chmod [-R] 权限数字 文件/目录

- 符号类型改变权限

chmod u=rwx,g=rx,o=r filename
chmod a-x filename  filename 去掉所有人的可执行权限
chmod a+w filename  filename 每个人都有写入的权限

汇总



元件   | 内容        | 叠代物件     |r            |w	          |x       
:-----:|:-----------:|:------------:|:-----------:|:-------------:|:-------:
文件   | 详细的数据  |文件数据夹    |读到文件内容 |修改文件内容   | 执行文件内容
目录   |文件名       |可分类抽屉    |读到文件名   |修改文件名     |进入该目录的权限


4. Linux 文件种类与扩展名

- 文件种类
   
   - 正规文件[-]
     
	- 纯文本文件（ASCII）
	- 二进制档（binary)
	- 数据格式文件（data)

   - 目录（directory)[d]
   - 链接文件（link）[l]
   - 设备与设备文件（device)
	- 区块（block)设备文件：硬盘。。[b]
	- 字符（character)设备文件：键盘/鼠标[c]
   - 数据接口文件（sockets)[s]
   - 数据传送档[p]

- 扩展名
  - .sh
  - .tar。。
  - .html
 
## Linux 目录配置

1. Linux目录配置的依据--FHS

    FHS 定义出三个目录：
	- /（root):与开机系统有关
	- /usr:与软件安装/执行相关
	- /var:与系统运行过程有关

建议：
- 根目录所在分区应该越小越好，而且应用程序所安装的软件最好不要与根目录放在同一个分区内，保持根目录越小越好。

2. 目录树
3. 绝对路径与相对路径

	- 绝对路径：/开头
	- 相对路径：不是/开头的

- .:代表当前的目录，也可以用./表示
- ..:代表上一层目录，也可以用../表示

